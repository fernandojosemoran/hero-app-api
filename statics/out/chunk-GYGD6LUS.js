import{A as V,B as k,C as h,D as T,F as D,G as j,H as W,I as X,R as G,S as A,T as B,U,g as Q,h as L,i as P,j as J,oa as Z,t as I,w as M,x as R,y as l,z as q}from"./chunk-7ZVP22QA.js";import{$ as w,Bb as n,Cb as r,Db as p,Ib as b,Kb as f,Mc as K,Vb as o,Wb as E,Xa as m,Xb as v,Ya as _,f as S,ia as x,ja as F,pb as c,sb as y,xb as g}from"./chunk-ZIFPUKJ6.js";var $=class t{static \u0275fac=function(e){return new(e||t)};static \u0275cmp=x({type:t,selectors:[["auth-layout-page"]],decls:3,vars:0,consts:[[1,"grid","p-3"],[1,"col-12","mt-5","md:col-6","md:col-offset-3","md:mt-8"]],template:function(e,i){e&1&&(n(0,"div",0)(1,"div",1),p(2,"router-outlet"),r()())},dependencies:[Q],encapsulation:2,changeDetection:0})};function se(t,a){if(t&1&&(n(0,"p",3),o(1),r()),t&2){let e=f();m(),E(e.getErrorMessage("userName"))}}function de(t,a){if(t&1&&(n(0,"p",3),o(1),r()),t&2){let e=f();m(),E(e.getErrorMessage("email"))}}function ue(t,a){if(t&1&&(n(0,"p",3),o(1),r()),t&2){let e=f();m(),E(e.getErrorMessage("password"))}}var O=class t{constructor(a,e,i){this._authService=a;this._snackbarService=e;this._router=i}account={userName:"user",email:"user@gmail.com",password:"12345678"};_passwordValidators=[l.maxLength(100),l.minLength(3),l.required];_userNameValidators=[l.maxLength(50),l.minLength(4),l.required];loginForm=new k({userName:new h("",{nonNullable:!0,validators:this._userNameValidators}),email:new h("",{nonNullable:!0,validators:[l.email,l.required]}),password:new h("",{nonNullable:!0,validators:this._passwordValidators})});getErrorMessage(a){let e=this.loginForm.get(a);return e?.hasError("required")?"This field is required.":e?.hasError("minlength")?`Must have at least ${e.errors?.minlength.requiredLength} characters.`:e?.hasError("maxlength")?`Should not exceed ${e.errors?.maxlength.requiredLength} characters.`:e?.hasError("email")?"The email address is not valid.":""}login(){let{email:a,password:e,userName:i}=this.loginForm.value;if(!this.loginForm.valid)return;let s=d=>{if(typeof d=="string")return this._snackbarService.openUnsuccessSnackbar(d);this._router.navigate(["/heroes/list"])};this._authService.login(i,a,e).subscribe(S(d=>s(d)))}static \u0275fac=function(e){return new(e||t)(_(M),_(G),_(L))};static \u0275cmp=x({type:t,selectors:[["auth-login-page"]],decls:33,vars:7,consts:[[1,"flex","flex-column",3,"submit","formGroup"],[1,"text-2xl","mb-4"],["formControlName","userName","type","text","matInput",""],["role","alert",1,"text-red-200"],["formControlName","email","type","email","matInput",""],["formControlName","password","type","password","matInput",""],["mat-stroked-button","",3,"click"],[1,"flex","justify-content-end","mt-5"],["routerLink","/auth/register"],[1,"mt-5","bg-blend-color-burn","p-4","rounded-lg","border-1","border-solid","border-blue-200"]],template:function(e,i){if(e&1&&(n(0,"form",0),b("submit",function(){return i.login()}),n(1,"h1",1),o(2,"Login"),r(),n(3,"mat-form-field")(4,"mat-label"),o(5,"UserName"),r(),p(6,"input",2),r(),c(7,se,2,1,"p",3),n(8,"mat-form-field")(9,"mat-label"),o(10,"Email"),r(),p(11,"input",4),r(),c(12,de,2,1,"p",3),n(13,"mat-form-field")(14,"mat-label"),o(15,"Password"),r(),p(16,"input",5),r(),c(17,ue,2,1,"p",3),n(18,"button",6),b("click",function(){return i.login()}),o(19,"Login"),r(),n(20,"div",7)(21,"a",8),o(22,"Create an account?"),r()()(),n(23,"div",9)(24,"p"),o(25,"Estas son las credenciales por defecto, si quieres probar la aplicaci\xF3n."),r(),n(26,"ol")(27,"li"),o(28),r(),n(29,"li"),o(30),r(),n(31,"li"),o(32),r()()()),e&2){let s,d,u;y("formGroup",i.loginForm),m(7),g((s=i.loginForm.get("userName"))!=null&&s.invalid&&((s=i.loginForm.get("userName"))!=null&&s.touched)?7:-1),m(5),g((d=i.loginForm.get("email"))!=null&&d.invalid&&((d=i.loginForm.get("email"))!=null&&d.touched)?12:-1),m(5),g((u=i.loginForm.get("password"))!=null&&u.invalid&&((u=i.loginForm.get("password"))!=null&&u.touched)?17:-1),m(11),v("usuario: ",i.account.userName,""),m(2),v("correo: ",i.account.email,""),m(2),v("contrase\xF1a: ",i.account.password,"")}},dependencies:[I,B,A,U,T,R,q,V,D,j,P],encapsulation:2})};function pe(t,a){if(t&1&&(n(0,"p",3),o(1),r()),t&2){let e=f();m(),v(" ",e.getErrorMessage("userName")," ")}}function ce(t,a){if(t&1&&(n(0,"p",5),o(1),r()),t&2){let e=f();m(),v(" ",e.getErrorMessage("lastName")," ")}}function ge(t,a){if(t&1&&(n(0,"p",7),o(1),r()),t&2){let e=f();m(),v(" ",e.getErrorMessage("email")," ")}}function fe(t,a){if(t&1&&(n(0,"p",9),o(1),r()),t&2){let e=f();m(),v(" ",e.getErrorMessage("password")," ")}}function ve(t,a){if(t&1&&(n(0,"p",11),o(1),r()),t&2){let e=f();m(),v(" ",e.getErrorMessage("confirmPassword")," ")}}var Y=class t{constructor(a,e,i){this._authService=a;this._snackbarService=e;this._router=i}_userNameValidations=[l.required,l.maxLength(50),l.minLength(4)];_lastNameValidations=[l.required,l.maxLength(50),l.minLength(4)];_passwordValidations=[l.required,l.maxLength(100),l.minLength(3)];_confirmPassword=[l.required,l.maxLength(100),l.minLength(3)];registerForm=new k({userName:new h("",{nonNullable:!0,validators:this._userNameValidations}),lastName:new h("",{nonNullable:!0,validators:this._lastNameValidations}),email:new h("",{nonNullable:!0,validators:[l.required,l.email]}),password:new h("",{nonNullable:!0,validators:this._passwordValidations}),confirmPassword:new h("",{nonNullable:!0,validators:this._confirmPassword})});getErrorMessage(a){let e=this.registerForm.get(a);return e?.hasError("required")?"This field is required.":e?.hasError("minlength")?`Must have at least ${e.errors?.minlength.requiredLength} characters.`:e?.hasError("maxlength")?`Should not exceed ${e.errors?.maxlength.requiredLength} characters.`:e?.hasError("email")?"The email address is not valid.":""}register(){let{userName:a,lastName:e,email:i,password:s,confirmPassword:d}=this.registerForm.value;this.registerForm.valid&&this._authService.register(a,i,e,s,d).subscribe(S(u=>typeof u=="boolean"&&u===!0?this._router.navigate(["/auth/login"]):u&&this._snackbarService.openUnsuccessSnackbar(u)))}static \u0275fac=function(e){return new(e||t)(_(M),_(G),_(L))};static \u0275cmp=x({type:t,selectors:[["auth-register-page"]],decls:33,vars:6,consts:[["role","form",1,"flex","flex-column",3,"submit","formGroup"],[1,"text-2xl","mb-4"],["formControlName","userName","name","userName","type","text","matInput","","required","","aria-describedby","userName-error"],["id","userName-error","role","alert","aria-live","polite",1,"text-red-200"],["formControlName","lastName","name","lastName","type","text","matInput","","required","","aria-describedby","lastName-error"],["id","lastName-error","role","alert","aria-live","polite",1,"text-red-200"],["formControlName","email","name","email","type","email","matInput","","required","","aria-describedby","email-error"],["id","email-error","role","alert","aria-live","polite",1,"text-red-200"],["formControlName","password","name","password","type","password","matInput","","required","","aria-describedby","password-error"],["id","password-error","role","alert","aria-live","polite",1,"text-red-200"],["formControlName","confirmPassword","name","confirmPassword","type","password","matInput","","required","","aria-describedby","confirmPassword-error"],["id","confirmPassword-error","role","alert","aria-live","polite",1,"text-red-200"],["type","submit","mat-stroked-button",""],[1,"flex","justify-content-end","mt-5"],["routerLink","/auth/login"]],template:function(e,i){if(e&1&&(n(0,"form",0),b("submit",function(){return i.register()}),n(1,"h1",1),o(2,"Register"),r(),n(3,"mat-form-field")(4,"mat-label"),o(5,"User Name"),r(),p(6,"input",2),r(),c(7,pe,2,1,"p",3),n(8,"mat-form-field")(9,"mat-label"),o(10,"Last Name"),r(),p(11,"input",4),r(),c(12,ce,2,1,"p",5),n(13,"mat-form-field")(14,"mat-label"),o(15,"Email"),r(),p(16,"input",6),r(),c(17,ge,2,1,"p",7),n(18,"mat-form-field")(19,"mat-label"),o(20,"Password"),r(),p(21,"input",8),r(),c(22,fe,2,1,"p",9),n(23,"mat-form-field")(24,"mat-label"),o(25,"Confirm Password"),r(),p(26,"input",10),r(),c(27,ve,2,1,"p",11),n(28,"button",12),o(29,"Register"),r(),n(30,"div",13)(31,"a",14),o(32,"You already have an account?"),r()()()),e&2){let s,d,u,N,C;y("formGroup",i.registerForm),m(7),g((s=i.registerForm.get("userName"))!=null&&s.invalid&&((s=i.registerForm.get("userName"))!=null&&s.touched)?7:-1),m(5),g((d=i.registerForm.get("lastName"))!=null&&d.invalid&&((d=i.registerForm.get("lastName"))!=null&&d.touched)?12:-1),m(5),g((u=i.registerForm.get("email"))!=null&&u.invalid&&((u=i.registerForm.get("email"))!=null&&u.touched)?17:-1),m(5),g((N=i.registerForm.get("password"))!=null&&N.invalid&&((N=i.registerForm.get("password"))!=null&&N.touched)?22:-1),m(5),g((C=i.registerForm.get("confirmPassword"))!=null&&C.invalid&&((C=i.registerForm.get("confirmPassword"))!=null&&C.touched)?27:-1)}},dependencies:[I,B,A,U,T,R,q,V,W,D,j,P],encapsulation:2})};var he=[{path:"",component:$,children:[{path:"login",component:O},{path:"register",component:Y},{path:"**",redirectTo:"login"}]}],z=class t{static \u0275fac=function(e){return new(e||t)};static \u0275mod=F({type:t});static \u0275inj=w({imports:[J.forChild(he),J]})};var re=class t{static \u0275fac=function(e){return new(e||t)};static \u0275mod=F({type:t});static \u0275inj=w({imports:[K,Z,X,z]})};export{re as a};
