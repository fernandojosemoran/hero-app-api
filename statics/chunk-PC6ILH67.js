import{A as Ue,B as J,C as $e,D as Q,E as ze,F as qe,G as Ke,H as Ge,I as W,J as Je,K as X,L as Qe,M as We,N as Xe,O as w,P as Ye,Q as Ze,a as Ee,b as we,f as Te,g as Le,h as ke,i as U,j as de,k as $,l as y,m as De,n as z,o as q,p as Oe,q as Fe,r as Ne,s as je,t as Ae,u as K,v as Be,w as Re,x,y as Ve,z as G}from"./chunk-TMV663PG.js";import{$b as ye,Ab as v,Bb as b,Cb as r,D as se,Db as o,Eb as s,F as Ce,Gb as P,J as Se,Jb as I,Jc as He,Kc as V,Lb as E,Lc as Me,Nc as Pe,Ob as ce,V as _e,Vb as f,Wa as R,Wb as n,Xb as d,Yb as h,Za as a,_a as _,aa as pe,ac as D,ba as j,bc as O,cc as xe,fa as le,j as be,ka as c,la as A,n as ae,na as B,ob as M,r as me,ta as C,tb as p,ua as S,yb as Ie,zb as g}from"./chunk-523MHD6K.js";var mt=()=>({width:"220px"});function st(i,t){if(i&1){let e=P();r(0,"mat-list-item",12)(1,"button",13),I("click",function(){C(e),E();let l=f(2);return S(l.toggle())}),r(2,"mat-icon"),n(3),o(),n(4),o()()}if(i&2){let e=t.$implicit;a(),p("routerLink",e.url),a(2),d(e.icon),a(),h(" ",e.label," ")}}var Y=class i{sidebarItem=[{label:"List",icon:"label",url:"/heroes/list"},{label:"Add",icon:"add",url:"/heroes/new-hero"},{label:"Search",icon:"search",url:"/heroes/search-hero"}];static \u0275fac=function(e){return new(e||i)};static \u0275cmp=c({type:i,selectors:[["heroes-layout-page"]],decls:23,vars:3,consts:[["sidenav",""],["fullscreen",""],["mode","push",3,"ngStyle"],[1,"bg-cyan-900"],[1,"spacer"],["mat-icon-button","",3,"click"],[1,"mt-4"],["class","flex flex-column align-items-center",4,"ngFor","ngForOf"],[1,"bg-cyan-900","fixed","z-5"],["mat-icon-button","","aria-label","Example icon-button with menu icon",3,"click"],["mat-flat-button",""],[1,"overflow-x-hidden"],[1,"flex","flex-column","align-items-center"],["mat-stroked-button","",1,"w-10rem",3,"click","routerLink"]],template:function(e,m){if(e&1){let l=P();r(0,"mat-sidenav-container",1)(1,"mat-sidenav",2,0)(3,"mat-toolbar",3)(4,"span"),n(5,"Menu"),o(),s(6,"span",4),r(7,"button",5),I("click",function(){C(l);let ne=f(2);return S(ne.toggle())}),r(8,"mat-icon"),n(9,"chevron_right"),o()()(),r(10,"mat-nav-list",6),M(11,st,5,3,"mat-list-item",7),o()(),r(12,"mat-toolbar",8)(13,"button",9),I("click",function(){C(l);let ne=f(2);return S(ne.toggle())}),r(14,"mat-icon"),n(15,"menu"),o()(),r(16,"span"),n(17,"Heroes App"),o(),s(18,"span",4),r(19,"button",10),n(20,"Log out"),o()(),r(21,"div",11),s(22,"router-outlet"),o()()}e&2&&(a(),p("ngStyle",ye(2,mt)),a(10),p("ngForOf",m.sidebarItem))},dependencies:[He,Me,y,De,w,Ye,Be,Re,Ue,G,Le,U],styles:[".loader-container[_ngcontent-%COMP%]{position:absolute;display:flex;height:100vh;width:100vh;justify-content:center;align-items:center;align-content:center;background-color:#000000c4}"]})};var fe={baseUrl:"http://127.0.0.1:3000"};var H=class i{constructor(t){this._http=t}BASE_URL=fe.baseUrl;getHeroes(){let t=`${this.BASE_URL}/heroes`;return this._http.get(t)}searchHero(t){let e=m=>m.filter(l=>l.superhero.toLowerCase().includes(t.toLowerCase()));return this.getHeroes().pipe(me(m=>e(m)))}getHeroById(t){return this.getHeroes().pipe(me(e=>e.find(m=>m.id===t)),Se(1e3))}addHero(t){return this._http.post(fe.baseUrl,t)}static \u0275fac=function(e){return new(e||i)(le(he))};static \u0275prov=pe({token:i,factory:i.\u0275fac,providedIn:"root"})},he=class i{constructor(t){this._http=t}get(t){return this._http.get(t).pipe(se(()=>ae(void 0)))}post(t,e){return this._http.post(t,e).pipe(se(()=>ae(void 0)))}static \u0275fac=function(e){return new(e||i)(le(Ee))};static \u0275prov=pe({token:i,factory:i.\u0275fac,providedIn:"root"})};var L=class i{transform(t){return!t.id&&!t.alt_image?"./images/no-image.png.png":`./images/heroes/${t.id}.jpg`}static \u0275fac=function(e){return new(e||i)};static \u0275pipe=B({name:"heroImageUrl",type:i,pure:!0})};function ct(i,t){i&1&&(r(0,"div",2),s(1,"mat-spinner"),o())}function dt(i,t){if(i&1){let e=P();r(0,"div",3)(1,"div",4),s(2,"img",5),D(3,"heroImageUrl"),o(),r(4,"div",4)(5,"mat-list")(6,"mat-list-item"),n(7," Superhero: "),r(8,"mat-chip"),n(9),o()(),r(10,"mat-list-item"),n(11," Alter_ego: "),r(12,"mat-chip"),n(13),o()(),r(14,"mat-list-item"),n(15," First appearance: "),r(16,"mat-chip"),n(17),o()(),r(18,"mat-list-item"),n(19," Publisher: "),r(20,"mat-chip"),n(21),o()(),r(22,"mat-list-item"),n(23," Characters: "),r(24,"mat-chip"),n(25),o()()(),r(26,"div")(27,"button",6),I("click",function(){C(e);let l=E();return S(l.goBack())}),r(28,"mat-icon"),n(29,"arrow_back_ios"),o(),n(30," Go back "),o()()()()}if(i&2){let e=E();a(2),p("src",O(3,7,e.hero),R)("alt",e.hero.superhero),a(7),d(e.hero.superhero),a(4),d(e.hero.alter_ego),a(4),d(e.hero.first_appearance),a(4),d(e.hero.publisher),a(4),d(e.hero.characters)}}var Z=class i{constructor(t,e,m){this._heroService=t;this._activatedRoute=e;this._router=m}_subscribe;_id;hero;ngOnInit(){this._activatedRoute.params.pipe(_e(({id:t})=>t?(this._id=t,Promise.resolve(!0)):this._router.navigateByUrl("/heroes/list"))).subscribe(),this._subscribe=this._heroService.getHeroById(this._id).subscribe(t=>{if(!t)return this._router.navigate(["/heroes/list"]);this.hero=t})}goBack(){this._router.navigate(["/heroes/list"])}ngOnDestroy(){this._subscribe?.unsubscribe()}static \u0275fac=function(e){return new(e||i)(_(H),_(Te),_(ke))};static \u0275cmp=c({type:i,selectors:[["heroes-hero-page"]],decls:3,vars:2,consts:[["divLoading",""],["class","grid mt-8 justify-content-center",4,"ngIf","ngIfElse"],[1,"flex","w-full","h-screen","align-items-center","justify-content-center","align-content-center"],[1,"grid","mt-8","justify-content-center"],[1,"col-12","sm:col-4"],[1,"w-26rem","sm:w-27rem",3,"src","alt"],["mat-button","",3,"click"]],template:function(e,m){if(e&1&&M(0,ct,2,0,"ng-template",null,0,xe)(2,dt,31,9,"div",1),e&2){let l=f(1);a(2),p("ngIf",m.hero)("ngIfElse",l)}},dependencies:[V,y,w,Ve,G,W,X,L]})};var ee=class i{transform(t){return t.split(",").map(e=>e.trim())}static \u0275fac=function(e){return new(e||i)};static \u0275pipe=B({name:"list",type:i,pure:!0})};function ht(i,t){if(i&1&&(r(0,"mat-chip"),n(1),o()),i&2){let e=t.$implicit;a(),h("<",e,"")}}var k=class i{hero;static \u0275fac=function(e){return new(e||i)};static \u0275cmp=c({type:i,selectors:[["heroes-card"]],inputs:{hero:"hero"},decls:27,vars:14,consts:[[1,"p-2"],[1,"mb-2"],["matCardImage","",3,"src","alt"],[1,"mt-2","p-2"],[1,"flex","flex-row","overflow-x-auto","h-3rem"],[1,"flex","gap-2"],["mat-stroked-button","","color","primary",3,"routerLink"]],template:function(e,m){e&1&&(r(0,"mat-card",0)(1,"mat-card-header",1)(2,"mat-card-title"),n(3),o(),r(4,"mat-card-subtitle"),n(5),o()(),s(6,"img",2),D(7,"heroImageUrl"),r(8,"mat-card-content",3)(9,"h4"),n(10),o(),r(11,"p"),n(12),o(),r(13,"mat-chip-listbox",4),v(14,ht,2,1,"mat-chip",null,g),D(16,"list"),o()(),s(17,"mat-divider"),r(18,"mat-card-actions",5)(19,"button",6)(20,"mat-icon"),n(21,"edit"),o(),n(22," Edit "),o(),r(23,"button",6)(24,"mat-icon"),n(25,"visibility"),o(),n(26," View "),o()()()),e&2&&(a(3),d(m.hero.superhero),a(2),d(m.hero.alter_ego),a(),p("src",O(7,10,m.hero),R)("alt",m.hero.superhero),a(4),d(m.hero.publisher),a(2),h("first appearance: ",m.hero.first_appearance,""),a(2),b(O(16,12,m.hero.characters)),a(5),ce("routerLink","/heroes/edit-hero/",m.hero.id,""),a(4),ce("routerLink","/heroes/",m.hero.id,""))},dependencies:[y,w,x,J,qe,Q,Ke,Ge,ze,$e,W,Je,U,ee,L]})};function gt(i,t){if(i&1&&(r(0,"div",3),s(1,"heroes-card",4),o()),i&2){let e=t.$implicit;a(),p("hero",e)}}var te=class i{constructor(t){this.heroesService=t}heroes=[];ngOnInit(){this.heroesService.getHeroes().subscribe(t=>{t&&(this.heroes=t)})}static \u0275fac=function(e){return new(e||i)(_(H))};static \u0275cmp=c({type:i,selectors:[["heroes-list-page"]],decls:7,vars:0,consts:[[1,"ml-4","mr-4"],[1,"mt-8","text-5xl"],[1,"grid","mt-2"],[1,"col-12","sm:col-4","md:col-3"],[3,"hero"]],template:function(e,m){e&1&&(r(0,"div",0)(1,"h1",1),n(2,"Heroes List"),o(),s(3,"mat-divider"),r(4,"div",2),v(5,gt,2,1,"div",3,g),o()()),e&2&&(a(5),b(m.heroes))},dependencies:[x,k]})};function St(i,t){if(i&1&&(r(0,"mat-option",9),n(1),o()),i&2){let e=t.$implicit;p("value",e.superhero),a(),h(" ",e.superhero," ")}}function _t(i,t){if(i&1&&(r(0,"mat-option",9),n(1),o()),i&2){E();let e=f(10);a(),h(' Term "',e.value,'" not found. ')}}function It(i,t){if(i&1&&(r(0,"div",10),s(1,"heroes-card",12),o()),i&2){let e=t.$implicit;a(),p("hero",e)}}function yt(i,t){i&1&&(r(0,"div",13),s(1,"mat-spinner"),o())}var ie=class i{constructor(t){this.heroesService=t}_subscriber;_debounce=new be;_debounceSubscription;heroes=[];heroesText=["spider man","hulk"];fmControlSearchInput=new Ne("");loader=!1;ngOnInit(){this._debounceSubscription=this._debounce.pipe(Ce(1e3)).subscribe(t=>this.searchHero(t))}onKeyPress(){let t=this.fmControlSearchInput.value.trim();this.heroes=[],t&&(this.loader=!0,this._debounce.next(t))}searchHero(t){this._subscriber=this.heroesService.searchHero(t).subscribe(e=>{e&&(this.heroes=e,this.loader=!1)})}ngOnDestroy(){this._subscriber.unsubscribe(),this._debounceSubscription.unsubscribe()}onSelectedOption(t){let e=t.option.value;this.fmControlSearchInput.setValue(e.superhero),this.heroesService.getHeroById(e.id).subscribe(m=>{m&&(this.heroes=[m])})}static \u0275fac=function(e){return new(e||i)(_(H))};static \u0275cmp=c({type:i,selectors:[["heroes-search-page"]],decls:19,vars:4,consts:[["heroSearchInput",""],["auto","matAutocomplete"],[1,"ml-4","mr-4"],[1,"mt-8","text-5xl"],[1,"grid","mb-8","pt-2","mt-4","z-2"],[1,"col-12"],[1,"sm:w-30rem","w-21rem"],["type","text","matInput","",3,"keyup","formControl","matAutocomplete"],["autoActiveFirstOption",""],[3,"value"],[1,"col-12","sm:col-4","md:col-3"],["class","loader-container z-4",4,"ngIf"],[3,"hero"],[1,"loader-container","z-4"]],template:function(e,m){if(e&1){let l=P();r(0,"div",2)(1,"h1",3),n(2,"Search Hero"),o(),s(3,"mat-divider"),r(4,"div",4)(5,"div",5)(6,"mat-form-field",6)(7,"mat-label"),n(8,"Search"),o(),r(9,"input",7,0),I("keyup",function(){return C(l),S(m.onKeyPress())}),o(),r(11,"mat-autocomplete",8,1),v(13,St,2,2,"mat-option",9,g),M(15,_t,2,1,"mat-option",9),o()()(),v(16,It,2,1,"div",10,g),o()(),M(18,yt,2,0,"div",11)}if(e&2){let l=f(10),N=f(12);a(9),p("formControl",m.fmControlSearchInput)("matAutocomplete",N),a(4),b(m.heroes),a(2),Ie(m.heroes.length===0&&l.value.length>0?15:-1),a(),b(m.heroes),a(2),p("ngIf",m.loader)}},dependencies:[V,q,z,K,x,X,Qe,$,We,Oe,Fe,je,k],styles:[".loader-container[_ngcontent-%COMP%]{position:absolute;display:flex;margin-left:3em;width:80%;justify-content:center;align-items:center;align-content:center}"]})};function xt(i,t){if(i&1&&(r(0,"mat-option",8),n(1),o()),i&2){let e=t.$implicit;p("value",e.id),a(),h(" ",e.desc," ")}}var re=class i{publishers=[{id:"DC Comics",desc:"DC - Comics"},{id:"Marvel Comics",desc:"Marvel - Comics"}];static \u0275fac=function(e){return new(e||i)};static \u0275cmp=c({type:i,selectors:[["heroes-new-hero-page"]],decls:39,vars:0,consts:[[1,"ml-4","mr-4"],[1,"mt-8","text-5xl"],[1,"mb-2"],[1,"grid"],[1,"col-12","sm:col-6"],[1,"col-12"],["type","text","matInput","","required",""],["required",""],[3,"value"],[1,"flex","justify-content-evenly"],["mat-flat-button","","color","warn"],["mat-flat-button","","color","primary"],["alt","hero image",3,"src"]],template:function(e,m){e&1&&(r(0,"div",0)(1,"h1",1),n(2,"Edit / Add"),o(),s(3,"mat-divider",2),r(4,"div",3)(5,"div",4)(6,"mat-card")(7,"mat-card-content")(8,"div",3)(9,"mat-form-field",5)(10,"mat-label"),n(11,"Super Hero"),o(),s(12,"input",6),o(),r(13,"mat-form-field",5)(14,"mat-label"),n(15,"Alter Ego"),o(),s(16,"input",6),o(),r(17,"mat-form-field",5)(18,"mat-label"),n(19,"First Appearance"),o(),s(20,"input",6),o(),r(21,"mat-form-field",5)(22,"mat-label"),n(23,"Characters"),o(),s(24,"input",6),o(),r(25,"mat-form-field",5)(26,"mat-label"),n(27,"Publisher"),o(),n(28," <"),r(29,"mat-select",7),v(30,xt,2,2,"mat-option",8,g),o()()(),r(32,"div",9)(33,"button",10),n(34,"Delete"),o(),r(35,"button",11),n(36,"Save"),o()()()()(),r(37,"div",4),s(38,"img",12),o()()()),e&2&&(a(30),b(m.publishers))},dependencies:[y,q,z,K,x,J,Q,$,Xe]})};var oe=class i{static \u0275fac=function(e){return new(e||i)};static \u0275cmp=c({type:i,selectors:[["heroes-edit-page"]],decls:2,vars:0,template:function(e,m){e&1&&(r(0,"p"),n(1,"edit-page works!"),o())}})};var Ht=[{path:"",component:Y,children:[{path:"new-hero",component:re},{path:"search-hero",component:ie},{path:"edit-hero/:id",component:oe},{path:"list",component:te},{path:":id",component:Z},{path:"**",redirectTo:"list"}]}],F=class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=A({type:i});static \u0275inj=j({imports:[de.forChild(Ht),de]})};var nt=class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=A({type:i});static \u0275inj=j({providers:[we()],imports:[Pe,Ze,Ae,F,F]})};export{nt as a};
